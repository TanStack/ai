{
  "adapter": "OpenAI",
  "test": "test3-approval-tool-flow",
  "model": "gpt-4o-mini",
  "timestamp": "2025-12-02T18:46:42.265Z",
  "input": {
    "messages": [
      {
        "role": "user",
        "content": "add a hammer to the cart"
      }
    ],
    "tools": [
      {
        "name": "addToCart",
        "description": "Add an item to the shopping cart",
        "needsApproval": true,
        "hasExecute": true,
        "hasInputSchema": true,
        "hasOutputSchema": false
      }
    ]
  },
  "chunks": [
    {
      "phase": "request",
      "index": 1,
      "type": "tool_call",
      "timestamp": 1764701202416,
      "id": "resp_0d08591f66b31cdc00692f341260a4819f8e05490151977608",
      "model": "gpt-4o-mini-2024-07-18",
      "toolCall": {
        "id": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
        "type": "function",
        "function": {
          "name": "addToCart",
          "arguments": "{\"item\":\"hammer\"}"
        }
      }
    },
    {
      "phase": "request",
      "index": 2,
      "type": "done",
      "timestamp": 1764701202416,
      "id": "resp_0d08591f66b31cdc00692f341260a4819f8e05490151977608",
      "model": "gpt-4o-mini-2024-07-18",
      "finishReason": "tool_calls",
      "usage": {
        "promptTokens": 58,
        "completionTokens": 16,
        "totalTokens": 74
      }
    },
    {
      "phase": "request",
      "index": 3,
      "type": "approval-requested",
      "timestamp": 1764701204507,
      "id": "resp_0d08591f66b31cdc00692f341260a4819f8e05490151977608",
      "model": "gpt-4o-mini-2024-07-18",
      "toolCallId": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
      "toolName": "addToCart",
      "input": {
        "item": "hammer"
      },
      "approval": {
        "id": "approval_fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
        "needsApproval": true
      }
    },
    {
      "phase": "approved",
      "index": 1,
      "type": "tool_result",
      "timestamp": 1764701204508,
      "id": "pending-1764701204507-9srd7ji",
      "model": "gpt-4o-mini",
      "toolCallId": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
      "content": "{\"success\":true,\"item\":\"hammer\"}"
    },
    {
      "phase": "approved",
      "index": 2,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": "",
      "content": "",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 3,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": "The",
      "content": "The",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 4,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " hammer",
      "content": "The hammer",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 5,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " has",
      "content": "The hammer has",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 6,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " been",
      "content": "The hammer has been",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 7,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " successfully",
      "content": "The hammer has been successfully",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 8,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " added",
      "content": "The hammer has been successfully added",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 9,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " to",
      "content": "The hammer has been successfully added to",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 10,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " the",
      "content": "The hammer has been successfully added to the",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 11,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": " cart",
      "content": "The hammer has been successfully added to the cart",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 12,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": "!",
      "content": "The hammer has been successfully added to the cart!",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 13,
      "type": "content",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "delta": "The hammer has been successfully added to the cart!",
      "content": "The hammer has been successfully added to the cart!The hammer has been successfully added to the cart!",
      "role": "assistant"
    },
    {
      "phase": "approved",
      "index": 14,
      "type": "done",
      "timestamp": 1764701205379,
      "id": "resp_05dfc071eec3113200692f341556fc819fa0d01de56e1d2572",
      "model": "gpt-4o-mini-2024-07-18",
      "finishReason": "stop",
      "usage": {
        "promptTokens": 89,
        "completionTokens": 12,
        "totalTokens": 101
      }
    }
  ],
  "summary": {
    "request": {
      "phase": "request",
      "totalChunks": 3,
      "responseLength": 0,
      "toolCalls": [
        {
          "id": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
          "name": "addToCart",
          "arguments": "{\"item\":\"hammer\"}"
        }
      ],
      "toolResults": [],
      "approvalRequests": [
        {
          "toolCallId": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
          "toolName": "addToCart",
          "input": {
            "item": "hammer"
          },
          "approval": {
            "id": "approval_fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
            "needsApproval": true
          }
        }
      ]
    },
    "approved": {
      "phase": "approved",
      "totalChunks": 14,
      "responseLength": 102,
      "toolCalls": [],
      "toolResults": [
        {
          "toolCallId": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
          "content": "{\"success\":true,\"item\":\"hammer\"}"
        }
      ],
      "approvalRequests": []
    },
    "hasHammerInResponse": true,
    "toolExecuteCalled": true,
    "toolExecuteCallCount": 1,
    "toolExecuteCalls": [
      {
        "timestamp": "2025-12-02T18:46:44.508Z",
        "arguments": {
          "item": "hammer"
        },
        "result": "{\"success\":true,\"item\":\"hammer\"}"
      }
    ]
  },
  "finalMessages": [
    {
      "role": "user",
      "content": "add a hammer to the cart"
    },
    {
      "role": "assistant",
      "content": null,
      "toolCalls": [
        {
          "id": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
          "type": "function",
          "function": {
            "name": "addToCart",
            "arguments": "{\"item\":\"hammer\"}"
          }
        }
      ],
      "parts": [
        {
          "type": "tool-call",
          "id": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
          "name": "addToCart",
          "arguments": "{\"item\":\"hammer\"}",
          "state": "approval-responded",
          "approval": {
            "id": "approval_fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
            "needsApproval": true,
            "approved": true
          }
        }
      ]
    },
    {
      "role": "tool",
      "toolCallId": "fc_0d08591f66b31cdc00692f3412eb98819f9b27f337ead45a01",
      "content": "{\"success\":true,\"item\":\"hammer\"}"
    },
    {
      "role": "assistant",
      "content": "The hammer has been successfully added to the cart!The hammer has been successfully added to the cart!",
      "toolCalls": []
    }
  ],
  "result": {
    "passed": true
  }
}